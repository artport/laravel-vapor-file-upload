window.Vapor=/*#__PURE__*/function(){function e(){}return e.requestSignedUrl=function(e,t){void 0===t&&(t={});try{return Promise.resolve(new Promise(function(n){var r=new XMLHttpRequest;r.open("POST","/vapor/signed-storage-url"),r.onload=function(){return n(r.response)},r.setRequestHeader("Content-Type","application/json"),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.setRequestHeader("X-CSRF-TOKEN",document.querySelector('meta[name="csrf-token"]').getAttribute("content")),r.send(JSON.stringify({bucket:t.bucket||"",content_type:t.contentType||e.type,expires:t.expires||"",visibility:t.visibility||"public-read"}))})).then(JSON.parse)}catch(e){return Promise.reject(e)}},e.sendFile=function(e,t,n,r){void 0===n&&(n={}),void 0===r&&(r={});try{return Promise.resolve(new Promise(function(o){var s=new XMLHttpRequest;for(var i in s.open("PUT",e),s.onload=function(){return o(s.response)},n.progress&&(s.upload.onprogress=function(e){return n.progress(Math.ceil(e.loaded/e.total*100))}),r)s.setRequestHeader(i,r[i]);s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.setRequestHeader("X-CSRF-TOKEN",document.querySelector('meta[name="csrf-token"]').getAttribute("content")),s.setRequestHeader("Content-Type",n.contentType||t.type),s.send(t)}))}catch(e){return Promise.reject(e)}},e.store=function(e,t){void 0===t&&(t={});try{var n=this;return Promise.resolve(n.requestSignedUrl(e,t)).then(function(r){return"Host"in r.headers&&delete r.headers.Host,"Content-Type"in r.headers&&delete r.headers["Content-Type"],Promise.resolve(n.sendFile(r.url,e,t,r.headers)).then(function(){return e.name&&(r.extension=e.name.split(".").pop()),r})})}catch(e){return Promise.reject(e)}},e}();
//# sourceMappingURL=laravel-vapor-file-upload.min.esm.js.map
